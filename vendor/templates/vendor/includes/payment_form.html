{% load i18n %}
<h3 class="mb-3">Payment Method</h3>

{% for hidden_field in credit_card_form.hidden_fields %}
{{ hidden_field }}
{% endfor %}

{% if credit_card_form.non_field_errors %}
<div class="alert alert-danger" role="alert">
    {% for error in credit_card_form.non_field_errors %}
    {{ error }}
    {% endfor %}
</div>
{% endif %}

<div class='form-row mb-2'>
    <div class='col-md-6'>
        <!-- Full Name -->
        {{ credit_card_form.full_name.label_tag }}
        {% if credit_card_form.is_bound %}
        {% if credit_card_form.full_name.errors %}
        {% for error in credit_card_form.full_name.errors %}
        <div class='invalid-feedback'>
            {{ error }}
        </div>
        {% endfor %}
        {% else %}
        {{ credit_card_form.full_name }}
        {% endif %}

        {% else %}
        {{ credit_card_form.full_name }}
        {% endif %}

        {% if credit_card_form.full_name.help_text %}
        <small class="form-text text-muted">
            {{ credit_card_form.full_name.help_text }}
        </small>
        {% endif %}
    </div>
</div>

<div class='form-row mb-2'>
    <div class='col-md-6'>
        <!-- Card Number -->
        {{ credit_card_form.card_number.label_tag }}
        {% if credit_card_form.is_bound %}
        {% if credit_card_form.card_number.errors %}
        {% for error in credit_card_form.card_number.errors %}
        <div class='invalid-feedback'>
            {{ error }}
        </div>
        {% endfor %}
        {% else %}
        {{ credit_card_form.card_number }}
        {% endif %}

        {% else %}
        {{ credit_card_form.card_number }}
        {% endif %}

        {% if credit_card_form.card_number.help_text %}
        <small class="form-text text-muted">
            {{ credit_card_form.card_number.help_text }}
        </small>
        {% endif %}
    </div>
</div>


<div class='form-row mb-2'>
    <div class='col-md-6'>
        <div class='row'>
            <div class='col'>
                <!-- Expire Month -->
                {{ credit_card_form.expire_month.label_tag }}
                {% if credit_card_form.is_bound %}
                {% if credit_card_form.expire_month.errors %}
                {% for error in credit_card_form.expire_month.errors %}
                <div class='invalid-feedback'>
                    {{ error }}
                </div>
                {% endfor %}
                {% else %}
                {{ credit_card_form.expire_month }}
                {% endif %}

                {% else %}
                {{ credit_card_form.expire_month }}
                {% endif %}
                
                {% if credit_card_form.expire_month.help_text %}
                <small class="form-text text-muted">
                    {{ credit_card_form.expire_month.help_text }}
                </small>
                {% endif %}                
            </div>

            <div class='col'>
                <!-- Expire Year -->
                {{ credit_card_form.expire_year.label_tag }}
                {% if credit_card_form.is_bound %}
                {% if credit_card_form.expire_year.errors %}
                {% for error in credit_card_form.expire_year.errors %}
                <div class='invalid-feedback'>
                    {{ error }}
                </div>
                {% endfor %}
                {% else %}
                {{ credit_card_form.expire_year }}
                {% endif %}
                
                {% else %}
                {{ credit_card_form.expire_year }}
                {% endif %}
                
                {% if credit_card_form.expire_year.help_text %}
                <small class="form-text text-muted">
                    {{ credit_card_form.expire_year.help_text }}
                </small>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class='form-row mb-2'>
    <div class='col-md-6'>
        <!-- CVV Number -->
        {{ credit_card_form.cvv_number.label_tag }}
        {% if credit_card_form.is_bound %}
            {% if credit_card_form.cvv_number.errors %}
                
                {{ credit_card_form.cvv_number }}
                {% for error in credit_card_form.cvv_number.errors %}
                    <div class='invalid-feedback'>
                        {{ error }}
                    </div>
                {% endfor %}
            {% else %}
                {{ credit_card_form.cvv_number }}
            {% endif %}
        
        {% else %}
            {{ credit_card_form.cvv_number }}
        {% endif %}
        
        {% if credit_card_form.cvv_number.help_text %}
        <small class="form-text text-muted">
            {{ credit_card_form.cvv_number.help_text }}
        </small>
        {% endif %}
    </div>
</div>