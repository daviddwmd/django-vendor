{% extends "vendor/base.html" %}
{% load i18n %}

{% block vendor_content %}
<div class='row mx-md-5 px-md-3'>
  <div class='col-12 my-5'>
    <h2>{% trans 'Shopping Cart' %}</h2>
  </div>
  <div class='col-md-8'>
    {% for item in object.order_items.all %}
    <div class="card w-100 border-0 rounded-0 bg-light my-2">
      <div class='card-body'>
        <a class="text-primary" href="#">
          <h5>{{item.name}}</h5>
        </a>
        {% for product in item.offer.products.all %}
        <span>{{product.description}}</span>
        {% endfor %}
        <p class="font-weight-bolder mt-3 mb-2">{{ item.offer.get_terms_display }}</p>
        <a class="text-primary" href="{{ item.offer.remove_from_cart_link }}">{% trans 'Remove' %}</a>
      </div>
    </div>
    {% empty %}
      <h2>{% trans 'Empty Cart' %}</h2>
    {% endfor %}
  </div>

  <div class="col-md-4 order-md-2 mb-4 mt-2">
    <h3 class="d-flex justify-content-between align-items-center mb-3">
      {% trans 'Summary' %}
    </h3>
    <ul class="list-group mb-3 border-0">
      {% comment %}
      <li class="px-0 border-0 d-flex justify-content-between bg-light">
        <div class="text-success">
          <h6 class="my-0">Promo code</h6>
          <small>EXAMPLECODE</small>
        </div>
        <span class="text-success">-$5</span>
      </li>
      {% endcomment %}

      <li class="px-0 border-0 d-flex justify-content-between">
        <span>{% trans 'Subtotal' %}</span>
        <span>${{ object.subtotal|floatformat:2|default_if_none:"0.00" }}</span>
      </li>

      <li class="px-0 border-0 d-flex justify-content-between">
        <span>{% trans 'Estimated Shipping' %}</span>
        <span>${{ object.shipping|default_if_none:"0.00" }}</span>
      </li>

      <li class="px-0 border-0 d-flex justify-content-between">
        <span>{% trans 'Estimated Tax' %}</span>
        <span>${{ object.tax|floatformat:2|default_if_none:"0.00" }}</span>
      </li>
      <li class="px-0 justify-content-between" style="list-style-type: none;">
        <hr class="my-3 border-dark border-5" />
      </li>

      <li class="px-0 border-0 d-flex justify-content-between">
        {% with invoice.get_currency_display as currency %}
        <span class="font-weight-bolder">{% blocktrans %}Total ({{ currency }}) {% endblocktrans %}</span>
        {% endwith  %}
        <span class="text-primary">${{ object.total|floatformat:2|default_if_none:"0.00" }}</span>
      </li>
    </ul>
    {% if object.order_items.all %}
    <a href="{% url 'vendor:checkout-account' %}" class="btn btn-primary">{% trans 'Check Out' %}</a>
    {% endif %}


    {% comment %}
    <form class="card p-2">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Promo code">
        <div class="input-group-append">
          <button type="submit" class="btn btn-secondary">{% trans 'Redeem' %}</button>
        </div>
      </div>
    </form>
    {% endcomment %}
  </div>
</div>
{% endblock %}

